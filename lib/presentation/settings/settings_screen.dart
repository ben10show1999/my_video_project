import 'package:flutter/material.dart';
import 'package:provider/provider.dart';
import '../../core/logic/app_provider.dart';
import '../../core/theme/app_colors.dart';
class SettingsScreen extends StatelessWidget { const SettingsScreen({super.key}); void _handleClearCache(BuildContext context) async { showDialog(context: context, barrierDismissible: false, builder: (c) => const Center(child: CircularProgressIndicator(color: AppColors.primary))); await Provider.of<AppProvider>(context, listen: false).clearCache(); if (context.mounted) { Navigator.pop(context); ScaffoldMessenger.of(context).showSnackBar(const SnackBar(content: Text("Cache cleared successfully"), backgroundColor: Colors.green)); } } void _showAboutApp(BuildContext context) { showDialog(context: context, builder: (c) => AlertDialog(backgroundColor: const Color(0xFF202020), title: const Center(child: Text("My Video App", style: TextStyle(color: Colors.white))), content: Column(mainAxisSize: MainAxisSize.min, children: const [Icon(Icons.play_circle_fill, size: 60, color: AppColors.primary), SizedBox(height: 16), Text("Version 1.0.0", style: TextStyle(color: Colors.white70)), Text("�0�8 2026 All Rights Reserved", style: TextStyle(color: Colors.grey, fontSize: 12))]), actions: [TextButton(onPressed: () => Navigator.pop(c), child: const Text("Close"))])); } @override Widget build(BuildContext context) { final provider = Provider.of<AppProvider>(context); return Scaffold(backgroundColor: AppColors.background, appBar: AppBar(title: const Text("Settings")), body: ListView(children: [const UserAccountsDrawerHeader(decoration: BoxDecoration(color: Color(0xFF202020)), accountName: Text("Flutter Dev"), accountEmail: Text("dev@example.com"), currentAccountPicture: CircleAvatar(backgroundColor: AppColors.primary, child: Icon(Icons.person, color: Colors.black))), SwitchListTile(value: provider.isAutoplayEnabled, onChanged: (v) => provider.toggleAutoplay(v), title: const Text("Autoplay", style: TextStyle(color: Colors.white)), activeThumbColor: AppColors.primary), SwitchListTile(value: provider.notificationsEnabled, onChanged: (v) => provider.toggleNotifications(v), title: const Text("Notifications", style: TextStyle(color: Colors.white)), activeThumbColor: AppColors.primary), const Divider(color: Colors.white24), ListTile(title: const Text("Clear Cache", style: TextStyle(color: Colors.white)), leading: const Icon(Icons.cleaning_services, color: Colors.white), onTap: () => _handleClearCache(context)), ListTile(title: const Text("About App", style: TextStyle(color: Colors.white)), leading: const Icon(Icons.info_outline, color: Colors.white), onTap: () => _showAboutApp(context))])); } }
