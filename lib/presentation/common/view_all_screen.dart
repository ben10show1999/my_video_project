import 'package:flutter/material.dart';
import 'package:my_video_project/core/components/universal_image.dart';
import 'package:my_video_project/core/theme/app_colors.dart';
import 'package:my_video_project/data/models/movie_models.dart';
import 'package:my_video_project/data/mock_data.dart';
import 'package:my_video_project/presentation/details/movie_details_screen.dart';
class ViewAllScreen extends StatelessWidget { final String title; final List<MovieSnippet> movies; const ViewAllScreen({super.key, required this.title, required this.movies}); @override Widget build(BuildContext context) { return Scaffold(backgroundColor: AppColors.background, appBar: AppBar(backgroundColor: Colors.transparent, title: Text(title, style: const TextStyle(color: Colors.white, fontWeight: FontWeight.bold)), leading: const BackButton(color: Colors.white)), body: Padding(padding: const EdgeInsets.all(16.0), child: LayoutBuilder(builder: (c, cs) { int cnt = (cs.maxWidth / 150).floor().clamp(3, 8); return GridView.builder(padding: const EdgeInsets.only(bottom: 120), itemCount: movies.length, gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(crossAxisCount: cnt, childAspectRatio: 0.55, crossAxisSpacing: 16, mainAxisSpacing: 16), itemBuilder: (c, i) { final m = movies[i]; return InkWell(onTap: () => Navigator.push(context, MaterialPageRoute(builder: (_) => MovieDetailsScreen(movie: MockData.allMovies.first))), child: Column(crossAxisAlignment: CrossAxisAlignment.start, children: [ClipRRect(borderRadius: BorderRadius.circular(8), child: UniversalImage(path: m.imageUrl, fit: BoxFit.cover)), const SizedBox(height: 8), Text(m.title, maxLines: 2, overflow: TextOverflow.ellipsis, style: const TextStyle(color: Colors.white70, fontSize: 13))])); }); }))); } }
